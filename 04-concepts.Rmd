# Some important concepts and pitfalls

## Scale

All maps have a scale. Scale is the ratio between the size of the representation of an object and its size in reality. E.g. objects on a 1:50,000 scale map are drawn at 1/50,000 their size, so 1cm on the map represents a distance of 500m in reality (i.e. $1*50,000 = 50,000cm = 500m$).

```{r onein50, echo=FALSE, warning=F, message=F}
# library(raster)
# 
# one50 <- raster("/home/jasper/GIT/spatial-r/data/cape_peninsula/1in50topo/3418AB_AD_2000_ED7_GEO.TIF")
# 
# plot(one50)
```


GIS is usually scaleless (or at least flexible in scale); we can "zoom in" as much as we want to, and perform operations at just about any scale we want to, but should we? There are lots of issues we need to consider!

* **Representation...** There are 2 issues here:
  - Firstly, a 1mm thick line on a 1:50,000 scale map would be 50m wide in reality. A 5m wide road would be 1/10mm on the map. Would the map be readable? Sometimes we break the rules of scale to make maps readable. Bear this in mind!
  - Secondly, representation also becomes an issue of how to capture data. For example, a road is typically best represented as a line at 1:5,000 scale or smaller, but at 1:1,000 scale a 5m wide road would be 5mm across on the map, so one might capture it as a polygon to represent its area.
* **Accuracy** of location versus scale of data capture. We should always check the scale at which the data were captured to make sure it is accurate enough for the scale of the analysis we are doing. For example, the various vegetation units in the National Vegetation Map of South Africa were mapped at a range of scales, some as small as 1:250,000 (note that small scale = large extent or area!). At this scale 1mm = 250m, so a minor digitization error is a huge difference on the ground! If you need your analysis to be accurate to <10m then you'd probably need data mapped at a scale larger than 1:10,000.
* **Precision** - Can mean two things:
  - The unit or number of decimal places to which the attribute has been measured (and can be stored)
  - The spread of repeat measurements (typically in field data collection). A big spread means the measurements weren't very precise...

<br>

### A quick aside on the difference between accuracy and precision! {.unlisted .unnumbered}

```{r accuracyprecision, fig.cap='The difference between accuracy and precision.', fig.asp=1, fig.align='center', echo=FALSE, warning=F, message=F}
library(tidyverse)
library(hrbrthemes)

data <- data.frame(set = factor(x = c(rep("precise and accurate", 50), rep("precise, but inaccurate",50), rep("imprecise, but accurate", 50), rep("imprecise and inaccurate", 50)), levels = c("precise and accurate", "precise, but inaccurate", "imprecise, but accurate", "imprecise and inaccurate")), x = c(rnorm(50, mean = 0, sd = 1), rnorm(50, mean = 1.5, sd = 1), rnorm(50, mean = 0, sd = 1.5), rnorm(50, mean = 1.5, sd = 1.5)), y = c(rnorm(50, mean = 0, sd = 1), rnorm(50, mean = 1.5, sd = 1), rnorm(50, mean = 0, sd = 1.5), rnorm(50, mean = 1.5, sd = 1.5)))

data %>%
 # tail(10) %>%
  ggplot(aes(x=x, y=y)) +
    #geom_polygon(fill = "grey") +
    #geom_path(color="black") +
    geom_hline(yintercept = 0) + geom_vline(xintercept = 0) +
    geom_point(shape=21, color="black", fill="#69b3a2", size=3) +
    theme_ipsum() + ylim(-5,5) + xlim(-5,5) +
    facet_wrap(.~set)

```
 
<br>

**A last word on Scale...**
 
For vector data, we typically refer to scale when describing a data set.

For raster data, we typically refer to pixel resolution (or sample interval). For example, a 30m digital elevation model is made up of pixels 30m across. For remotely sensed imagery (i.e. from drone, plane or satellite), one often uses the term "ground sample distance".

<br>

## Coordinate Reference Systems (CRS)

Coordinate reference systems can be a minefield, and I don't have the time to cover them in any detail here. Knowing what system one dataset is in allows it to be reprojected to align with any other defined datasets you are working with. It is also important to to make sure you are using a CRS that is appropriate for the analysis or representation you are planning.

### Geographic (or "unprojected") Coordinate Systems

The most common coordinate system is latitude/longitude, also known as _geographic_, lat/long or sometimes _WGS84_. There are many ways to record geographic coordinates:

* Degrees, Minutes & Seconds: S33°26’46”,E18°10’23’’
* Decimal Degrees: -33.4461111,18.17305556
* Most GIS prefer decimal degrees...

The problem with doing analyses using geographic CRS is that degrees differ in their actual ground distance depending on where you are on the planet. They also differ in the N-S vs W-E plane!

[Insert Tom's figure here!]


